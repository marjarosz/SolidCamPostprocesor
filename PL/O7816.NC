%
o7816 (O7816.NC)
(POMIAR KATA TEST)
(B-ODLEGLOSC OD MIERZNOEJ POWIERZCHNI)
(I-DLUGOSC POMIARU W X)
(J-DLUGOSC POMIARU W Y)
(Q-OVERTRAVEL)
(F-POSUW W PRZEJAZDACH CHRONIONYCH )
(AUTOR:)
(Marek Jarosz marjarosz@gmail.com)
M00
(Czy zdefiniowane B)
N10 IF[#2 NE #0] GOTO20
GOTO1000
N20 IF[#17 NE #0] GOTO30
#17=10. (DOMYSLNY OVERTRAVEL)
N30 IF[#9 NE #0] GOTO40
#9=1500. (DOMYSLNY POSUW)
N40 IF[#4 NE #0] GOTO100 (POIAR KATA X)
IF[#5 NE #0] GOTO200 (POMIAR KATA Y)
GOTO1000

(CZY DLUGOSC POMIARU NIE JEST 0)
N100 IF [#4 NE 0] GOTO 105
GOTO 1000

N105 (POMIAR KATA X)

(DOJAZD DO 1 POZYCJI)
G65 P9810 X[#5041+#4/2] F#9
M00
(POMIAR PLASZCZYZNY Y)
G65 P9811 Y[#5042+#2] Q#17
M00
#28=#188
(DOJAZD DO 2 POZYCJI)
G65 P9810 X[#5041-#4] F#9
M00
(POMIAR PLASZCZYZNY Y)
G65 P9811 Y[#5042+#2] Q#17
M00
#29=#188
(DOJAZD DO STARTOWEJ POZYCJI)
G65 P9810 X[#5041+#4/2] F#9
M00
IF[#28 EQ #29]GOTO 310
IF[#29 GT #28]GOTO 320
IF[#28 GT #29]GOTO 330
GOTO1000

(CZY DLUGOSC NIE JEST 0)
N200 IF [#5 NE 0] GOTO 205
GOTO 1000
N205 (POMIAR KAT Y)
(DOJAZD DO 1 POZYCJI)
M00
G65 P9810 Y[#5042+#5/2] F#9
M00
(POMIAR PLASZCZYZNY X)
M00
G65 P9811 X[#5041+#2] Q#17
#30=#188
(DOJAZD DO 2 POZYCJI)
M00
G65 P9810 Y[#5042+#5] F#9
(POMIAR PLASZCZYZNY X)
M00
G65 P9811 X[#5041+#2] Q#17
#31=#188
(DOJAZD DO STARTOWEJ POZYCJI)
M00
G65 P9810 Y[#5042+#5/2] F#9
IF[#30 EQ #31]GOTO 410
IF[#31 GT #30]GOTO 420
IF[#30 GT #31]GOTO 430
GOTO1000

(OBLICZENIA KATA X)
N310 (KAT ROWNY 0)
#189=0
GOTO 1000
N320 (KAT DODATNI)
#189=ATAN[[#29-#28]/#4]
GOTO1000
N330 (KAT UJEMNY)
#189=[ATAN[[#28-#29]/#4]]*-1.
GOTO1000

(OBLICZENIA KATA Y)
N410 (KAT ROWNY 0) 
#192=0
GOTO1000
N420 (KAT DODATNI)
#192=ATAN[[#31-#30]/#4]
GOTO1000
N430 (KAT UJEMNY)
#192=[ATAN[[#30-#31]/#4]]*-1.
GOTO1000

(KONIEC)
N1000 M99

%